(function(t){function e(e){for(var a,r,o=e[0],u=e[1],l=e[2],d=0,p=[];d<o.length;d++)r=o[d],i[r]&&p.push(i[r][0]),i[r]=0;for(a in u)Object.prototype.hasOwnProperty.call(u,a)&&(t[a]=u[a]);c&&c(e);while(p.length)p.shift()();return s.push.apply(s,l||[]),n()}function n(){for(var t,e=0;e<s.length;e++){for(var n=s[e],a=!0,o=1;o<n.length;o++){var u=n[o];0!==i[u]&&(a=!1)}a&&(s.splice(e--,1),t=r(r.s=n[0]))}return t}var a={},i={app:0},s=[];function r(e){if(a[e])return a[e].exports;var n=a[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.m=t,r.c=a,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)r.d(n,a,function(e){return t[e]}.bind(null,a));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],u=o.push.bind(o);o.push=e,o=o.slice();for(var l=0;l<o.length;l++)e(o[l]);var c=u;s.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},2856:function(t,e,n){},"56d7":function(t,e,n){"use strict";n.r(e);n("cadf"),n("551c"),n("097d");var a=n("2b0e"),i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("transition",{attrs:{name:"fade",mode:"out-in"}},[n("router-view")],1)],1)},s=[],r={name:"app"},o=r,u=(n("5c0b"),n("2877")),l=Object(u["a"])(o,i,s,!1,null,null,null);l.options.__file="App.vue";var c=l.exports,d=n("8c4f"),p=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"welcome"}},[n("section",{staticClass:"hero is-fullheight"},[n("div",{staticClass:"hero-body"},[n("div",{staticClass:"container has-text-centered"},[n("TitleHead"),n("h2",{staticClass:"subtitle is-4"},[t._v("online poker, made with ❤️")]),n("nav",{staticClass:"breadcrumb has-bullet-separator is-centered"},[n("ul",t._l(t.links,function(t){return n("li",{key:t.id},[n("InternalLink",{attrs:{link:t}})],1)}))])],1)])])])},f=[],h=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"titleHead"}},[n("h1",{staticClass:"title is-1",class:t.textColor},[t._v(t._s(t.$appName))])])},m=[],v={name:"titleHead",props:{textColor:{default:"has-text-dark",type:String}}},g=v,b=Object(u["a"])(g,h,m,!1,null,null,null);b.options.__file="TitleHead.vue";var w=b.exports,$=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("router-link",{class:"has-text-"+t.link.color,attrs:{to:t.link.route}},[n("span",[t._v(t._s(t.link.text))])])},_=[],y={name:"internalLink",props:["link"]},x=y,k=Object(u["a"])(x,$,_,!1,null,null,null);k.options.__file="InternalLink.vue";var P=k.exports,C={name:"welcome",data:function(){return{links:[{id:1,route:"/authenticate/login",color:"primary",text:"Log In"},{id:2,route:"/authenticate/signup",color:"primary",text:"Sign Up"}]}},components:{TitleHead:w,InternalLink:P}},E=C,O=Object(u["a"])(E,p,f,!1,null,null,null);O.options.__file="Welcome.vue";var L=O.exports,q=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"authenticate"}},[n("section",{staticClass:"hero is-fullheight"},[n("div",{staticClass:"hero-head"},[n("section",{staticClass:"section has-text-centered"},[n("TitleHead")],1),n("div",{staticClass:"columns is-centered"},[n("div",{staticClass:"column is-one-third"},[n("transition",{attrs:{"enter-active-class":"animated bounceIn","leave-active-class":"animated bounceOut",mode:"out-in"}},[n("keep-alive",[n("router-view",{on:{forgotPassword:t.forgotPassword}})],1)],1)],1)])])])])},j=[],T={name:"authenticate",components:{TitleHead:w},methods:{forgotPassword:function(t){this.$dialog.alert({title:"Instructions Sent",message:"Password reset instructions sent to <b>".concat(t,"</b>, check your inbox and spam folder.")})}}},S=T,I=Object(u["a"])(S,q,j,!1,null,null,null);I.options.__file="Authenticate.vue";var M=I.exports,N=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"login"}},[n("div",{staticClass:"box"},[n("h2",{staticClass:"subtitle is-4 has-text-grey"},[t._v("Welcome Back")]),n("form",{attrs:{novalidate:""},on:{submit:function(e){return e.preventDefault(),t.submit(e)}}},[n("form-group",{attrs:{validator:t.$v.identifier,label:"Username or Email",attribute:"Identifier"}},[n("b-input",{directives:[{name:"focus",rawName:"v-focus"}],attrs:{value:t.$v.identifier.$model,loading:t.$v.identifier.$pending,disabled:t.loading},on:{input:function(e){t.debounceInput("identifier",e)}}})],1),n("form-group",{attrs:{validator:t.$v.password,label:"Password",messages:{manualError:"Password does not match"}}},[n("b-input",{attrs:{type:"password",placeholder:"••••••••","password-reveal":"",disabled:t.loading},on:{input:function(e){t.passwordError=!1}},model:{value:t.$v.password.$model,callback:function(e){t.$set(t.$v.password,"$model",e)},expression:"$v.password.$model"}})],1),n("nav",{staticClass:"level"},[n("div",{staticClass:"level-left"},[n("a",{staticClass:"level-item",on:{click:t.forgotPassword}},[t._v("Forgot your password?")])]),n("div",{staticClass:"level-right"},[n("button",{staticClass:"level-item button is-light",class:{"is-loading":t.loading},attrs:{type:"submit"}},[t._v("Log In")])])])],1)]),n("p",[t._v("Need an account? "),n("InternalLink",{attrs:{link:t.signupLink}})],1)])},A=[],U=n("1dce"),H=n("61f1"),R={data:function(){return{type:"is-dark",message:"",position:"is-bottom",duration:2e3,queue:!1,container:"body"}},methods:{toast:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Object(H["a"])(e,{message:t}),this.openToast(e)},warnToast:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Object(H["a"])(e,{type:"is-warning",message:t}),this.openToast(e)},dangerToast:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Object(H["a"])(e,{type:"is-danger",message:t}),this.openToast(e)},openToast:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=Object(H["a"])({},this.$data,t);this.$toast.open(e)}}},D=n("85b1"),W=500,F={methods:{debounceInput:Object(D["a"])(function(t,e){this.$v[t].$model=e},W)}},J=n("b5ae"),K=n("a322"),V=function(t){return function(e,n){return""===e||new Promise(function(a,i){n.$http.get("".concat(t,"Registered"),{params:Object(K["a"])({},t,e)}).then(function(t){return a(!t.data)}).catch(function(t){return i(t)})})}},X=function(t,e){return""===t||new Promise(function(n,a){e.$http.get("identifierExists",{params:{identifier:t}}).then(function(t){return n(t.data)}).catch(function(t){return a(t)})})},B=function(t){return function(){return!t}},Y=n("c840"),z=n.n(Y),G=function(t){return function(e,n){return z()(e)>t}},Q={name:"login",data:function(){return{identifier:"",password:"",signupLink:{route:"/authenticate/signup",color:"primary",text:"Sign Up"},passwordError:!1}},computed:{authPayload:function(){return{identifier:this.identifier,password:this.password}},loading:function(){return this.$store.state.user.loading}},components:{InternalLink:P},mixins:[U["validationMixin"],F,R],validations:function(){return{identifier:{required:J["required"],userExists:X},password:{required:J["required"],manualError:B(this.passwordError)}}},methods:{submit:function(){var t=this;this.$v.$touch(),this.$v.$invalid||this.$store.dispatch("user/login",this.authPayload).then(function(){return t.$router.push("/")}).catch(function(e){if(e.response)switch(e.response.status){case 401:t.passwordError=!0;break;case 429:t.dangerToast("Please try again later");break;case 500:t.dangerToast("Internal server error")}})},forgotPassword:function(){this.$v.identifier.$touch(),this.$v.identifier.$invalid||this.$emit("forgotPassword",this.identifier)}}},Z=Q,tt=Object(u["a"])(Z,N,A,!1,null,null,null);tt.options.__file="Login.vue";var et=tt.exports,nt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"signup"}},[n("div",{staticClass:"box"},[n("h2",{staticClass:"subtitle is-4 has-text-grey"},[t._v("Create Your Account")]),n("form",{attrs:{novalidate:""},on:{submit:function(e){return e.preventDefault(),t.submit(e)}}},[n("form-group",{attrs:{validator:t.$v.username,label:"Username"}},[n("b-input",{directives:[{name:"focus",rawName:"v-focus"}],attrs:{value:t.$v.username.$model,loading:t.$v.username.$pending,disabled:t.loading},on:{input:function(e){t.debounceInput("username",e)}}})],1),n("form-group",{attrs:{validator:t.$v.email,label:"Email"}},[n("b-input",{attrs:{value:t.$v.email.$model,loading:t.$v.email.$pending,disabled:t.loading},on:{input:function(e){t.debounceInput("email",e)}}})],1),n("form-group",{attrs:{validator:t.$v.password,label:"Password"}},[n("b-input",{attrs:{type:"password",placeholder:"••••••••","password-reveal":"",disabled:t.loading},on:{focus:function(e){t.showPasswordStrength=!0},blur:function(e){t.showPasswordStrength=!1}},model:{value:t.$v.password.$model,callback:function(e){t.$set(t.$v.password,"$model",e)},expression:"$v.password.$model"}})],1),n("transition",{attrs:{name:"fade"}},[t.showPasswordStrength?n("PasswordStrengthMeter",{attrs:{password:t.password}}):t._e()],1),n("div",{staticClass:"has-text-right"},[n("button",{staticClass:"button is-light",class:{"is-loading":t.loading},attrs:{type:"submit"}},[t._v("Sign Up")])])],1)]),n("p",[t._v("Already have an account? "),n("InternalLink",{attrs:{link:t.loginLink}})],1)])},at=[],it=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"passwordStrengthMeter"},[n("label",{staticClass:"label"},[t._v("Password Strength")]),n("progress",{staticClass:"progress is-marginless is-small",class:t.color,attrs:{max:"1"},domProps:{value:t.quotient}}),n("p",{staticClass:"label help"},[t._v(t._s(t.message))])])},st=[],rt={name:"passwordStrengthMeter",data:function(){return{MAX:128}},props:["password"],computed:{quotient:function(){return z()(this.password)/this.MAX},color:function(){return this.quotient<.2?"is-danger":this.quotient>.2&&this.quotient<.6?"is-warning":this.quotient>.6&&this.quotient<.8?"is-success":this.quotient>.8?"is-primary":void 0},message:function(){return 0===this.quotient?"":this.quotient<.2?"Weak":this.quotient>.2&&this.quotient<.6?"Risky":this.quotient>.6&&this.quotient<.8?"Strong":this.quotient>.8?"Secure":void 0}}},ot=rt,ut=Object(u["a"])(ot,it,st,!1,null,null,null);ut.options.__file="PasswordStrengthMeter.vue";var lt=ut.exports,ct={name:"signup",data:function(){return{username:"",email:"",password:"",loginLink:{route:"/authenticate/login",color:"primary",text:"Log In"},showPasswordStrength:!1}},computed:{authPayload:function(){return{username:this.username,email:this.email,password:this.password}},loading:function(){return this.$store.state.user.loading}},components:{InternalLink:P,PasswordStrengthMeter:lt},mixins:[U["validationMixin"],F,R],validations:function(){return{username:{required:J["required"],minLength:Object(J["minLength"])(4),maxLength:Object(J["maxLength"])(20),unique:V("username")},email:{required:J["required"],email:J["email"],unique:V("email")},password:{required:J["required"],minLength:Object(J["minLength"])(8),minEntropy:G(40)}}},methods:{submit:function(){var t=this;this.$v.$touch(),this.$v.$invalid||this.$store.dispatch("user/signup",this.authPayload).then(function(){return t.$router.push("/")}).catch(function(e){if(e.response)switch(e.response.status){case 422:t.dangerToast("User data is invalid");break;case 429:t.dangerToast("Please try again later");break;case 500:t.dangerToast("Internal server error")}})}}},dt=ct,pt=Object(u["a"])(dt,nt,at,!1,null,null,null);pt.options.__file="Signup.vue";var ft,ht=pt.exports,mt=[{path:"/",meta:{auth:!0}},{path:"/welcome",component:L},{path:"/authenticate",component:M,children:[{path:"login",component:et},{path:"signup",component:ht},{path:"",redirect:"/authenticate/login"}]},{path:"*",redirect:"/"}],vt=n("2f62"),gt="AUTHENTICATE",bt="REVOKE_AUTH",wt={authenticated:!1,loading:!1},$t={},_t={signup:function(t,e){var n=t.commit;return n("startLoading"),new Promise(function(t,i){a["default"].axios.post("register",e).then(function(e){n(gt),t(e)}).catch(function(t){return i(t)}).finally(function(){return n("endLoading")})})},login:function(t,e){var n=t.commit;return n("startLoading"),new Promise(function(t,i){a["default"].axios.post("login",e).then(function(e){n(gt),t(e)}).catch(function(t){return i(t)}).finally(function(){return n("endLoading")})})},logout:function(t){var e=t.commit;return new Promise(function(t,n){a["default"].axios.post("logout").then(function(n){e(bt),t(n)}).catch(function(t){return n(t)})})}},yt=(ft={},Object(K["a"])(ft,gt,function(t){t.authenticated=!0}),Object(K["a"])(ft,bt,function(t){t.authenticated=!1}),Object(K["a"])(ft,"startLoading",function(t){t.loading=!0}),Object(K["a"])(ft,"endLoading",function(t){t.loading=!1}),ft),xt={namespaced:!0,state:wt,getters:$t,actions:_t,mutations:yt},kt={connected:!1},Pt={},Ct={},Et={SOCKET_CONNECT:function(t){t.connected=!0}},Ot={namespaced:!0,state:kt,getters:Pt,actions:Ct,mutations:Et},Lt=n("0e44");a["default"].use(vt["a"]);var qt=!1,jt=new vt["a"].Store({modules:{user:xt,socket:Ot},plugins:[Object(Lt["a"])()],strict:qt}),Tt=function(t){t.beforeEach(function(t,e,n){var a=t.matched.some(function(t){return t.meta.auth}),i=jt.state.user.authenticated;a&&!i?n("/welcome"):!a&&i?n("/"):n()})};a["default"].use(d["a"]);var St=new d["a"]({mode:"history",linkActiveClass:"is-active",routes:mt});Tt(St);var It=St,Mt=n("f2d6"),Nt=n.n(Mt),At={useVuex:!0,vuexModuleName:"wait",registerComponent:!0,componentName:"v-wait",registerDirective:!0,directiveName:"wait"};a["default"].use(Nt.a);var Ut=new Nt.a(At),Ht=n("ecee"),Rt=n("c074"),Dt=n("7a55");Ht["library"].add(Rt["b"],Rt["c"],Rt["a"]),Ht["dom"].watch(),a["default"].component("font-awesome-icon",Dt["FontAwesomeIcon"]);var Wt=n("bc3a"),Ft=n.n(Wt),Jt=n("a7fe"),Kt=n.n(Jt),Vt={baseURL:"https://coffee-casino.herokuapp.com/api/",withCredentials:!0};a["default"].use(Kt.a,Ft.a.create(Vt));var Xt=n("85ff"),Bt=n.n(Xt),Yt=!1,zt={isEnabled:Yt,logLevel:"debug",stringifyArguments:!1,showLogLevel:!0,showMethodName:!0,separator:"||",showConsoleColors:!0};a["default"].use(Bt.a,zt);var Gt=n("8a03"),Qt=n.n(Gt);a["default"].use(Qt.a,{defaultIconPack:"fas"});var Zt=n("0a12"),te=n.n(Zt);a["default"].use(te.a,"https://coffee-casino.herokuapp.com",jt);n("77ed");var ee=n("7f53"),ne=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("b-field",{attrs:{label:t.label,"custom-class":t.customClass,type:t.type,message:t.errorMessage}},[t._t("default")],2)},ae=[],ie={extends:ee["b"],computed:{type:function(){return this.hasErrors?"is-danger":null},customClass:function(){return this.hasErrors?"has-text-danger":null},errorMessage:function(){return this.hasErrors?this.firstErrorMessage:null}}},se=ie,re=Object(u["a"])(se,ne,ae,!1,null,null,null);re.options.__file="Template.vue";var oe=re.exports,ue={required:"{attribute} is required",userExists:"User not found",minLength:"{attribute} is too short",maxLength:"{attribute} is too long",unique:"{attribute} is already taken",email:"Email is invalid",passwordMatches:"Password does not match",minEntropy:"Password is not strong enough",manualError:"If you're seeing this, supply a local error message"};a["default"].use(ee["a"],{template:oe,messages:ue}),a["default"].directive("focus",{inserted:function(t){"INPUT"===t.tagName?t.focus():t.querySelector("input").focus()}});var le=n("09bd"),ce=n.n(le);a["default"].config.productionTip=!1,a["default"].prototype.$appName="Poker Nook",ce.a.shim(),new a["default"]({router:It,store:jt,wait:Ut,render:function(t){return t(c)}}).$mount("#app")},"5c0b":function(t,e,n){"use strict";var a=n("2856"),i=n.n(a);i.a}});
//# sourceMappingURL=app.de6d5ce4.js.map