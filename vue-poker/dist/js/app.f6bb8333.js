(function(t){function e(e){for(var a,i,o=e[0],u=e[1],l=e[2],d=0,f=[];d<o.length;d++)i=o[d],r[i]&&f.push(r[i][0]),r[i]=0;for(a in u)Object.prototype.hasOwnProperty.call(u,a)&&(t[a]=u[a]);c&&c(e);while(f.length)f.shift()();return s.push.apply(s,l||[]),n()}function n(){for(var t,e=0;e<s.length;e++){for(var n=s[e],a=!0,o=1;o<n.length;o++){var u=n[o];0!==r[u]&&(a=!1)}a&&(s.splice(e--,1),t=i(i.s=n[0]))}return t}var a={},r={app:0},s=[];function i(e){if(a[e])return a[e].exports;var n=a[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=t,i.c=a,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)i.d(n,a,function(e){return t[e]}.bind(null,a));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],u=o.push.bind(o);o.push=e,o=o.slice();for(var l=0;l<o.length;l++)e(o[l]);var c=u;s.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"106f":function(t,e,n){},"56d7":function(t,e,n){"use strict";n.r(e);n("cadf"),n("551c");var a=n("2b0e"),r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("transition",{attrs:{name:"fade",mode:"out-in"}},[n("router-view")],1)],1)},s=[],i={name:"app"},o=i,u=(n("5c0b"),n("2877")),l=Object(u["a"])(o,r,s,!1,null,null,null),c=l.exports,d=n("8c4f"),f=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"welcome"}},[n("section",{staticClass:"hero is-fullheight"},[n("div",{staticClass:"hero-body"},[n("div",{staticClass:"container has-text-centered"},[n("TitleHead"),n("h2",{staticClass:"subtitle is-4"},[t._v("online poker, made with ❤️")]),n("nav",{staticClass:"breadcrumb has-bullet-separator is-centered"},[n("ul",t._l(t.links,function(t){return n("li",{key:t.id},[n("InternalLink",{attrs:{link:t}})],1)}))])],1)])])])},p=[],h=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"titleHead"}},[n("h1",{staticClass:"title is-1",class:t.textColor},[t._v(t._s(t.$appName))])])},m=[],v={name:"titleHead",props:{textColor:{default:"has-text-dark",type:String}}},g=v,b=Object(u["a"])(g,h,m,!1,null,null,null),w=b.exports,$=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("router-link",{class:"has-text-"+t.link.color,attrs:{to:t.link.route}},[n("span",[t._v(t._s(t.link.text))])])},x=[],y={name:"internalLink",props:["link"]},k=y,_=Object(u["a"])(k,$,x,!1,null,null,null),C=_.exports,P={name:"welcome",data:function(){return{links:[{id:1,route:"/authenticate/login",color:"primary",text:"Log In"},{id:2,route:"/authenticate/signup",color:"primary",text:"Sign Up"}]}},components:{TitleHead:w,InternalLink:C}},L=P,O=Object(u["a"])(L,f,p,!1,null,null,null),E=O.exports,j=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"authenticate"}},[n("section",{staticClass:"hero is-fullheight"},[n("div",{staticClass:"hero-head"},[n("section",{staticClass:"section has-text-centered"},[n("TitleHead")],1),n("div",{staticClass:"columns is-centered"},[n("div",{staticClass:"column is-one-third"},[n("transition",{attrs:{"enter-active-class":"animated bounceIn","leave-active-class":"animated bounceOut",mode:"out-in"}},[n("keep-alive",[n("router-view",{on:{forgotPassword:t.forgotPassword}})],1)],1)],1)])])])])},S=[],I={name:"authenticate",components:{TitleHead:w},methods:{forgotPassword:function(t){this.$dialog.alert({title:"Instructions Sent",message:"Password reset instructions sent to <b>".concat(t,"</b>, check your inbox and spam folder."),hasIcon:!0,icon:"envelope",iconPack:"fa"})}}},T=I,q=Object(u["a"])(T,j,S,!1,null,null,null),M=q.exports,N=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"login"}},[n("div",{staticClass:"box"},[n("h2",{staticClass:"subtitle is-4 has-text-grey"},[t._v("Welcome Back")]),n("form",{attrs:{novalidate:""},on:{submit:function(e){return e.preventDefault(),t.submit(e)}}},[n("form-group",{attrs:{validator:t.$v.identifier,label:"Username or Email",attribute:"Identifier"}},[n("b-input",{directives:[{name:"focus",rawName:"v-focus"}],attrs:{value:t.$v.identifier.$model,loading:t.$v.identifier.$pending,disabled:t.loading},on:{input:function(e){t.debounceInput("identifier",e)}}})],1),n("form-group",{attrs:{validator:t.$v.password,label:"Password",messages:{manualError:"Password does not match"}}},[n("b-input",{attrs:{type:"password",placeholder:"••••••••","password-reveal":"",disabled:t.loading},on:{input:function(e){t.passwordError=!1}},model:{value:t.$v.password.$model,callback:function(e){t.$set(t.$v.password,"$model",e)},expression:"$v.password.$model"}})],1),n("nav",{staticClass:"level"},[n("div",{staticClass:"level-left"},[n("a",{staticClass:"level-item",on:{click:t.forgotPassword}},[t._v("Forgot your password?")])]),n("div",{staticClass:"level-right"},[n("button",{staticClass:"level-item button is-light",class:{"is-loading":t.loading},attrs:{type:"submit"}},[t._v("Log In")])])])],1)]),n("p",[t._v("Need an account? "),n("InternalLink",{attrs:{link:t.signupLink}})],1)])},R=[],U=n("1dce"),z=n("61f1"),A={data:function(){return{type:"is-dark",message:"",position:"is-bottom",duration:2e3,queue:!1,container:"body"}},methods:{toast:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Object(z["a"])(e,{message:t}),this.openToast(e)},warnToast:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Object(z["a"])(e,{type:"is-warning",message:t}),this.openToast(e)},dangerToast:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Object(z["a"])(e,{type:"is-danger",message:t}),this.openToast(e)},openToast:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=Object(z["a"])({},this.$data,t);this.$toast.open(e)}}},H=n("85b1"),F=300,D={methods:{debounceInput:Object(H["a"])(function(t,e){this.$v[t].$model=e},F)}},J=n("1498"),B=n.n(J),K=B.a.load({sync:!0}),W={computed:{zxcvbnResult:function(){return K(this.password)}}},Y=n("b5ae"),G=n("a322"),Q=n("9849"),V=n.n(Q),X=500,Z=function(t,e){return""===t||V()(new Promise(function(n,a){e.$http.get("identifierExists",{params:{identifier:t}}).then(function(t){return n(t.data)}).catch(function(t){return a(t)})}),X)},tt=function(t){return function(e,n){return""===e||V()(new Promise(function(a,r){n.$http.get("".concat(t,"Registered"),{params:Object(G["a"])({},t,e)}).then(function(t){return a(!t.data)}).catch(function(t){return r(t)})}),X)}},et=function(t){return function(e){return t>2}},nt=function(t){return function(e){return!t}},at={name:"login",data:function(){return{identifier:"",password:"",signupLink:{route:"/authenticate/signup",color:"primary",text:"Sign Up"},passwordError:!1}},computed:{authPayload:function(){return{identifier:this.identifier,password:this.password}},loading:function(){return this.$store.state.user.loading}},components:{InternalLink:C},mixins:[U["validationMixin"],D,A],validations:function(){return{identifier:{required:Y["required"],userExists:Z},password:{required:Y["required"],manualError:nt(this.passwordError)}}},methods:{submit:function(){var t=this;this.$v.$touch(),this.$v.$invalid||this.$store.dispatch("user/login",this.authPayload).then(function(){return t.$router.push("/")}).catch(function(e){t.passwordError=!0,t.dangerToast(e)})},forgotPassword:function(){this.$v.identifier.$touch(),this.$v.identifier.$invalid||this.$emit("forgotPassword",this.identifier)}}},rt=at,st=Object(u["a"])(rt,N,R,!1,null,null,null),it=st.exports,ot=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"signup"}},[n("div",{staticClass:"box"},[n("h2",{staticClass:"subtitle is-4 has-text-grey"},[t._v("Create Your Account")]),n("form",{attrs:{novalidate:""},on:{submit:function(e){return e.preventDefault(),t.submit(e)}}},[n("form-group",{attrs:{validator:t.$v.username,label:"Username"}},[n("b-input",{directives:[{name:"focus",rawName:"v-focus"}],attrs:{value:t.$v.username.$model,loading:t.$v.username.$pending,disabled:t.loading},on:{input:function(e){t.debounceInput("username",e)}}})],1),n("form-group",{attrs:{validator:t.$v.email,label:"Email"}},[n("b-input",{attrs:{value:t.$v.email.$model,loading:t.$v.email.$pending,disabled:t.loading},on:{input:function(e){t.debounceInput("email",e)}}})],1),n("form-group",{attrs:{validator:t.$v.password,label:"Password"}},[n("b-input",{attrs:{type:"password",placeholder:"••••••••","password-reveal":"",disabled:t.loading},on:{focus:function(e){t.showPasswordStrength=!0},blur:function(e){t.showPasswordStrength=!1}},model:{value:t.$v.password.$model,callback:function(e){t.$set(t.$v.password,"$model",e)},expression:"$v.password.$model"}})],1),n("transition",{attrs:{name:"fade"}},[t.showPasswordStrength?n("PasswordStrengthMeter",{attrs:{zxcvbnResult:t.zxcvbnResult}}):t._e()],1),n("div",{staticClass:"has-text-right"},[n("button",{staticClass:"button is-light",class:{"is-loading":t.loading},attrs:{type:"submit"}},[t._v("Sign Up")])])],1)]),n("p",[t._v("Already have an account? "),n("InternalLink",{attrs:{link:t.loginLink}})],1)])},ut=[],lt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"passwordStrengthMeter"},[n("label",{staticClass:"label"},[t._v("Password Strength")]),n("progress",{staticClass:"progress is-marginless is-small",class:t.strengthColor,attrs:{max:"4"},domProps:{value:t.strengthScore}}),n("p",{staticClass:"help label"},[t._v(t._s(t.warning))])])},ct=[],dt={name:"passwordStrengthMeter",props:["zxcvbnResult"],computed:{strengthScore:function(){return this.zxcvbnResult.score},strengthColor:function(){switch(this.strengthScore){case 0:case 1:return"is-danger";case 2:return"is-warning";case 3:return"is-success";case 4:return"is-primary"}},warning:function(){return this.zxcvbnResult.feedback.warning}}},ft=dt,pt=Object(u["a"])(ft,lt,ct,!1,null,null,null),ht=pt.exports,mt={name:"signup",data:function(){return{username:"",email:"",password:"",loginLink:{route:"/authenticate/login",color:"primary",text:"Log In"},showPasswordStrength:!1}},computed:{authPayload:function(){return{username:this.username,email:this.email,password:this.password}},loading:function(){return this.$store.state.user.loading}},components:{InternalLink:C,PasswordStrengthMeter:ht},mixins:[U["validationMixin"],D,A,W],validations:function(){return{username:{required:Y["required"],minLength:Object(Y["minLength"])(4),maxLength:Object(Y["maxLength"])(20),unique:tt("username")},email:{required:Y["required"],email:Y["email"],unique:tt("email")},password:{required:Y["required"],minLength:Object(Y["minLength"])(8),securePassword:et(this.zxcvbnResult.score)}}},methods:{submit:function(){var t=this;this.$v.$touch(),this.$v.$invalid||this.$store.dispatch("user/signup",this.authPayload).then(function(){return t.$router.push("/")}).catch(function(e){return t.dangerToast(e)})}}},vt=mt,gt=Object(u["a"])(vt,ot,ut,!1,null,null,null),bt=gt.exports,wt=[{path:"/",meta:{auth:!0}},{path:"/welcome",component:E},{path:"/authenticate",component:M,children:[{path:"login",component:it},{path:"signup",component:bt},{path:"",redirect:"/authenticate/login"}]},{path:"*",redirect:"/"}],$t=n("2f62"),xt=function(t){return t.response?t.response.statusText:t.request?"Server Connection Failed.":t.message},yt={authenticated:!1,loading:!1},kt={},_t={signup:function(t,e){var n=t.commit;return n("startLoading"),new Promise(function(t,r){a["default"].axios.post("register",e).then(function(e){n("authenticate"),t(e)}).catch(function(t){return r(xt(t))}).finally(function(){return n("endLoading")})})},login:function(t,e){var n=t.commit;return n("startLoading"),new Promise(function(t,r){a["default"].axios.post("login",e).then(function(e){n("authenticate"),t(e)}).catch(function(t){return r(xt(t))}).finally(function(){return n("endLoading")})})},logout:function(t){var e=t.commit;return new Promise(function(t,n){a["default"].axios.post("logout").then(function(n){e("revokeAuth"),t(n)}).catch(function(t){return n(xt(t))})})}},Ct={authenticate:function(t){t.authenticated=!0},revokeAuth:function(t){t.authenticated=!1},startLoading:function(t){t.loading=!0},endLoading:function(t){t.loading=!1}},Pt={namespaced:!0,state:yt,getters:kt,actions:_t,mutations:Ct},Lt={connected:!1},Ot={},Et={},jt={SOCKET_CONNECT:function(t){t.connected=!0}},St={namespaced:!0,state:Lt,getters:Ot,actions:Et,mutations:jt},It=n("0e44");a["default"].use($t["a"]);var Tt=!1,qt=new $t["a"].Store({modules:{user:Pt,socket:St},plugins:[Object(It["a"])()],strict:Tt}),Mt=function(t){t.beforeEach(function(t,e,n){var a=t.matched.some(function(t){return t.meta.auth}),r=qt.state.user.authenticated;a&&!r?n("/welcome"):!a&&r?n("/"):n()})};a["default"].use(d["a"]);var Nt=new d["a"]({mode:"history",linkActiveClass:"is-active",routes:wt});Mt(Nt);var Rt=Nt,Ut=n("ecee"),zt=n("c074"),At=n("7a55");Ut["library"].add(zt["b"],zt["c"],zt["a"]),Ut["dom"].watch(),a["default"].component("font-awesome-icon",At["FontAwesomeIcon"]);var Ht=n("bc3a"),Ft=n.n(Ht),Dt=n("a7fe"),Jt=n.n(Dt),Bt={baseURL:"https://coffee-casino.herokuapp.com/api/",withCredentials:!1};a["default"].use(Jt.a,Ft.a.create(Bt));var Kt=n("85ff"),Wt=n.n(Kt),Yt=!1,Gt={isEnabled:Yt,logLevel:"debug",stringifyArguments:!1,showLogLevel:!0,showMethodName:!0,separator:"||",showConsoleColors:!0};a["default"].use(Wt.a,Gt);var Qt=n("8a03"),Vt=n.n(Qt);a["default"].use(Vt.a,{defaultIconPack:"fas"});var Xt=n("0a12"),Zt=n.n(Xt);a["default"].use(Zt.a,"https://coffee-casino.herokuapp.com",qt);n("77ed");var te=n("7f53"),ee=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("b-field",{attrs:{label:t.label,"custom-class":t.customClass,type:t.type,message:t.errorMessage}},[t._t("default")],2)},ne=[],ae={extends:te["b"],computed:{type:function(){return this.hasErrors?"is-danger":null},customClass:function(){return this.hasErrors?"has-text-danger":null},errorMessage:function(){return this.hasErrors?this.firstErrorMessage:null}}},re=ae,se=Object(u["a"])(re,ee,ne,!1,null,null,null),ie=se.exports,oe={required:"{attribute} is required",userExists:"User not found",minLength:"{attribute} is too short",maxLength:"{attribute} is too long",unique:"{attribute} is already taken",email:"Email is invalid",passwordMatches:"Password does not match",securePassword:"Password is not strong enough",manualError:"If you're seeing this, supply a local error message"};a["default"].use(te["a"],{template:ie,messages:oe}),a["default"].directive("focus",{inserted:function(t){"INPUT"===t.tagName?t.focus():t.querySelector("input").focus()}});var ue=n("09bd"),le=n.n(ue);a["default"].config.productionTip=!1,a["default"].prototype.$appName="Poker Nook",le.a.shim(),new a["default"]({router:Rt,store:qt,render:function(t){return t(c)}}).$mount("#app")},"5c0b":function(t,e,n){"use strict";var a=n("106f"),r=n.n(a);r.a}});
//# sourceMappingURL=app.f6bb8333.js.map