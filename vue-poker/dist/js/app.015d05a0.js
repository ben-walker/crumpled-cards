(function(t){function e(e){for(var a,i,o=e[0],u=e[1],l=e[2],d=0,p=[];d<o.length;d++)i=o[d],s[i]&&p.push(s[i][0]),s[i]=0;for(a in u)Object.prototype.hasOwnProperty.call(u,a)&&(t[a]=u[a]);c&&c(e);while(p.length)p.shift()();return r.push.apply(r,l||[]),n()}function n(){for(var t,e=0;e<r.length;e++){for(var n=r[e],a=!0,o=1;o<n.length;o++){var u=n[o];0!==s[u]&&(a=!1)}a&&(r.splice(e--,1),t=i(i.s=n[0]))}return t}var a={},s={app:0},r=[];function i(e){if(a[e])return a[e].exports;var n=a[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=t,i.c=a,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)i.d(n,a,function(e){return t[e]}.bind(null,a));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],u=o.push.bind(o);o.push=e,o=o.slice();for(var l=0;l<o.length;l++)e(o[l]);var c=u;r.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"106f":function(t,e,n){},"56d7":function(t,e,n){"use strict";n.r(e);n("cadf"),n("551c");var a=n("2b0e"),s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("transition",{attrs:{name:"fade",mode:"out-in"}},[n("router-view")],1)],1)},r=[],i={name:"app"},o=i,u=(n("5c0b"),n("2877")),l=Object(u["a"])(o,s,r,!1,null,null,null),c=l.exports,d=n("8c4f"),p=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"welcome"}},[n("section",{staticClass:"hero is-fullheight"},[n("div",{staticClass:"hero-body"},[n("div",{staticClass:"container has-text-centered"},[n("TitleHead"),n("h2",{staticClass:"subtitle is-4"},[t._v("online poker, made with ❤️")]),n("nav",{staticClass:"breadcrumb has-bullet-separator is-centered"},[n("ul",t._l(t.links,function(t){return n("li",{key:t.id},[n("InternalLink",{attrs:{link:t}})],1)}))])],1)])])])},f=[],h=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"titleHead"}},[n("h1",{staticClass:"title is-1",class:t.textColor},[t._v(t._s(t.$appName))])])},m=[],g={name:"titleHead",props:{textColor:{default:"has-text-dark",type:String}}},v=g,b=Object(u["a"])(v,h,m,!1,null,null,null),w=b.exports,$=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("router-link",{class:"has-text-"+t.link.color,attrs:{to:t.link.route}},[n("span",[t._v(t._s(t.link.text))])])},x=[],y={name:"internalLink",props:["link"]},_=y,k=Object(u["a"])(_,$,x,!1,null,null,null),C=k.exports,P={name:"welcome",data:function(){return{links:[{id:1,route:"/authenticate/login",color:"primary",text:"Log In"},{id:2,route:"/authenticate/signup",color:"primary",text:"Sign Up"}]}},components:{TitleHead:w,InternalLink:C}},L=P,E=Object(u["a"])(L,p,f,!1,null,null,null),O=E.exports,S=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"authenticate"}},[n("section",{staticClass:"hero is-fullheight"},[n("div",{staticClass:"hero-head"},[n("section",{staticClass:"section has-text-centered"},[n("TitleHead")],1),n("div",{staticClass:"columns is-centered"},[n("div",{staticClass:"column is-one-third"},[n("transition",{attrs:{"enter-active-class":"animated bounceIn","leave-active-class":"animated bounceOut",mode:"out-in"}},[n("keep-alive",[n("router-view",{on:{forgotPassword:t.forgotPassword}})],1)],1)],1)])])])])},j=[],T={name:"authenticate",components:{TitleHead:w},methods:{forgotPassword:function(t){this.$dialog.alert({title:"Instructions Sent",message:"Password reset instructions sent to <b>".concat(t,"</b>, check your inbox and spam folder."),hasIcon:!0,icon:"envelope",iconPack:"fa"})}}},I=T,q=Object(u["a"])(I,S,j,!1,null,null,null),M=q.exports,N=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"login"}},[n("div",{staticClass:"box"},[n("h2",{staticClass:"subtitle is-4 has-text-grey"},[t._v("Welcome Back")]),n("form",{attrs:{novalidate:""},on:{submit:function(e){return e.preventDefault(),t.submit(e)}}},[n("form-group",{attrs:{validator:t.$v.identifier,label:"Username or Email",attribute:"Identifier"}},[n("b-input",{directives:[{name:"focus",rawName:"v-focus"}],attrs:{value:t.$v.identifier.$model,loading:t.$v.identifier.$pending,disabled:t.loading},on:{input:function(e){t.debounceInput("identifier",e)}}})],1),n("form-group",{attrs:{validator:t.$v.password,label:"Password",messages:{manualError:"Password does not match"}}},[n("b-input",{attrs:{type:"password",placeholder:"••••••••","password-reveal":"",disabled:t.loading},on:{input:function(e){t.passwordError=!1}},model:{value:t.$v.password.$model,callback:function(e){t.$set(t.$v.password,"$model",e)},expression:"$v.password.$model"}})],1),n("nav",{staticClass:"level"},[n("div",{staticClass:"level-left"},[n("a",{staticClass:"level-item",on:{click:t.forgotPassword}},[t._v("Forgot your password?")])]),n("div",{staticClass:"level-right"},[n("button",{staticClass:"level-item button is-light",class:{"is-loading":t.loading},attrs:{type:"submit"}},[t._v("Log In")])])])],1)]),n("p",[t._v("Need an account? "),n("InternalLink",{attrs:{link:t.signupLink}})],1)])},U=[],A=n("1dce"),H={data:function(){return{type:"is-dark",message:"",position:"is-bottom",duration:2e3,queue:!1,container:"body"}},methods:{toast:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._.extend(e,{message:t}),this.openToast(e)},warnToast:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._.extend(e,{type:"is-warning",message:t}),this.openToast(e)},dangerToast:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._.extend(e,{type:"is-danger",message:t}),this.openToast(e)},openToast:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=this._.extend({},this.$data,t);this.$toast.open(e)}}},R=n("2ef0"),z=n.n(R),D=300,F={methods:{debounceInput:z.a.debounce(function(t,e){this.$v[t].$model=e},D)}},J=n("b5ae"),B=n("a322"),K=n("9849"),W=n.n(K),Y=500,G=function(t,e){return""===t||W()(new Promise(function(n,a){e.$http.get("identifierExists",{params:{identifier:t}}).then(function(t){return n(t.data)}).catch(function(t){return a(t)})}),Y)},Q=function(t){return function(e,n){return""===e||W()(new Promise(function(a,s){n.$http.get("".concat(t,"Registered"),{params:Object(B["a"])({},t,e)}).then(function(t){return a(!t.data)}).catch(function(t){return s(t)})}),Y)}},V=n("580e"),X=n.n(V),Z=function(t){return X()(t).score>2},tt=function(t){return function(e){return!t}},et={name:"login",data:function(){return{identifier:"",password:"",signupLink:{route:"/authenticate/signup",color:"primary",text:"Sign Up"},passwordError:!1}},computed:{authPayload:function(){return{identifier:this.identifier,password:this.password}},loading:function(){return this.$store.state.user.loading}},components:{InternalLink:C},mixins:[A["validationMixin"],F,H],validations:function(){return{identifier:{required:J["required"],userExists:G},password:{required:J["required"],manualError:tt(this.passwordError)}}},methods:{submit:function(){var t=this;this.$v.$touch(),this.$v.$invalid||this.$store.dispatch("user/login",this.authPayload).then(function(){return t.$router.push("/")}).catch(function(e){t.passwordError=!0,t.dangerToast(e)})},forgotPassword:function(){this.$v.identifier.$touch(),this.$v.identifier.$invalid||this.$emit("forgotPassword",this.identifier)}}},nt=et,at=Object(u["a"])(nt,N,U,!1,null,null,null),st=at.exports,rt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"signup"}},[n("div",{staticClass:"box"},[n("h2",{staticClass:"subtitle is-4 has-text-grey"},[t._v("Create Your Account")]),n("form",{attrs:{novalidate:""},on:{submit:function(e){return e.preventDefault(),t.submit(e)}}},[n("form-group",{attrs:{validator:t.$v.username,label:"Username"}},[n("b-input",{directives:[{name:"focus",rawName:"v-focus"}],attrs:{value:t.$v.username.$model,loading:t.$v.username.$pending,disabled:t.loading},on:{input:function(e){t.debounceInput("username",e)}}})],1),n("form-group",{attrs:{validator:t.$v.email,label:"Email"}},[n("b-input",{attrs:{value:t.$v.email.$model,loading:t.$v.email.$pending,disabled:t.loading},on:{input:function(e){t.debounceInput("email",e)}}})],1),n("form-group",{attrs:{validator:t.$v.password,label:"Password"}},[n("b-input",{attrs:{type:"password",placeholder:"••••••••","password-reveal":"",disabled:t.loading},on:{focus:function(e){t.showPasswordStrength=!0},blur:function(e){t.showPasswordStrength=!1}},model:{value:t.$v.password.$model,callback:function(e){t.$set(t.$v.password,"$model",e)},expression:"$v.password.$model"}})],1),n("transition",{attrs:{name:"fade"}},[t.showPasswordStrength?n("PasswordStrengthMeter",{attrs:{password:t.password}}):t._e()],1),n("div",{staticClass:"has-text-right"},[n("button",{staticClass:"button is-light",class:{"is-loading":t.loading},attrs:{type:"submit"}},[t._v("Sign Up")])])],1)]),n("p",[t._v("Already have an account? "),n("InternalLink",{attrs:{link:t.loginLink}})],1)])},it=[],ot=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"passwordStrengthMeter"},[n("label",{staticClass:"label"},[t._v("Password Strength")]),n("progress",{staticClass:"progress is-marginless is-small",class:t.strengthColor,attrs:{max:"4"},domProps:{value:t.strengthScore}}),n("p",{staticClass:"help label"},[t._v(t._s(t.warning))])])},ut=[],lt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("b-tooltip",{attrs:{label:t.text,animated:"",multilined:""}},[n("i",{staticClass:"has-text-primary far fa-question-circle fa-lg"})])},ct=[],dt={name:"toolTip",props:["text"]},pt=dt,ft=Object(u["a"])(pt,lt,ct,!1,null,null,null),ht=ft.exports,mt={name:"passwordStrengthMeter",data:function(){return{helpText:"Measured in bits of entropy, compared against common passwords."}},props:["password"],computed:{zxcvbnResult:function(){return X()(this.password)},strengthScore:function(){return this.zxcvbnResult.score},strengthColor:function(){switch(this.strengthScore){case 0:case 1:return"is-danger";case 2:return"is-warning";case 3:return"is-success";case 4:return"is-primary"}},warning:function(){return this.zxcvbnResult.feedback.warning}},components:{ToolTip:ht}},gt=mt,vt=Object(u["a"])(gt,ot,ut,!1,null,null,null),bt=vt.exports,wt={name:"signup",data:function(){return{username:"",email:"",password:"",loginLink:{route:"/authenticate/login",color:"primary",text:"Log In"},showPasswordStrength:!1}},computed:{authPayload:function(){return{username:this.username,email:this.email,password:this.password}},loading:function(){return this.$store.state.user.loading}},components:{InternalLink:C,PasswordStrengthMeter:bt},mixins:[A["validationMixin"],F,H],validations:function(){return{username:{required:J["required"],minLength:Object(J["minLength"])(4),maxLength:Object(J["maxLength"])(20),unique:Q("username")},email:{required:J["required"],email:J["email"],unique:Q("email")},password:{required:J["required"],minLength:Object(J["minLength"])(8),securePassword:Z}}},methods:{submit:function(){var t=this;this.$v.$touch(),this.$v.$invalid||this.$store.dispatch("user/signup",this.authPayload).then(function(){return t.$router.push("/")}).catch(function(e){return t.dangerToast(e)})}}},$t=wt,xt=Object(u["a"])($t,rt,it,!1,null,null,null),yt=xt.exports,_t=[{path:"/",meta:{auth:!0}},{path:"/welcome",component:O},{path:"/authenticate",component:M,children:[{path:"login",component:st},{path:"signup",component:yt},{path:"",redirect:"/authenticate/login"}]},{path:"*",redirect:"/"}],kt=n("2f62"),Ct=function(t){return t.response?t.response.statusText:t.request?"Server Connection Failed.":t.message},Pt={authenticated:!1,loading:!1},Lt={},Et={signup:function(t,e){var n=t.commit;return n("startLoading"),new Promise(function(t,s){a["a"].axios.post("register",e).then(function(e){n("authenticate"),t(e)}).catch(function(t){return s(Ct(t))}).finally(function(){return n("endLoading")})})},login:function(t,e){var n=t.commit;return n("startLoading"),new Promise(function(t,s){a["a"].axios.post("login",e).then(function(e){n("authenticate"),t(e)}).catch(function(t){return s(Ct(t))}).finally(function(){return n("endLoading")})})},logout:function(t){var e=t.commit;return new Promise(function(t,n){a["a"].axios.post("logout").then(function(n){e("revokeAuth"),t(n)}).catch(function(t){return n(Ct(t))})})}},Ot={authenticate:function(t){t.authenticated=!0},revokeAuth:function(t){t.authenticated=!1},startLoading:function(t){t.loading=!0},endLoading:function(t){t.loading=!1}},St={namespaced:!0,state:Pt,getters:Lt,actions:Et,mutations:Ot},jt={connected:!1},Tt={},It={},qt={SOCKET_CONNECT:function(t){t.connected=!0}},Mt={namespaced:!0,state:jt,getters:Tt,actions:It,mutations:qt},Nt=n("0e44");a["a"].use(kt["a"]);var Ut=!1,At=new kt["a"].Store({modules:{user:St,socket:Mt},plugins:[Object(Nt["a"])()],strict:Ut}),Ht=function(t){t.beforeEach(function(t,e,n){var a=t.matched.some(function(t){return t.meta.auth}),s=At.state.user.authenticated;a&&!s?n("/welcome"):!a&&s?n("/"):n()})};a["a"].use(d["a"]);var Rt=new d["a"]({mode:"history",linkActiveClass:"is-active",routes:_t});Ht(Rt);var zt=Rt,Dt=n("bc3a"),Ft=n.n(Dt),Jt=n("a7fe"),Bt=n.n(Jt),Kt={baseURL:"https://coffee-casino.herokuapp.com/api/",withCredentials:!0};a["a"].use(Bt.a,Ft.a.create(Kt));var Wt=n("85ff"),Yt=n.n(Wt),Gt=!1,Qt={isEnabled:Gt,logLevel:"debug",stringifyArguments:!1,showLogLevel:!0,showMethodName:!0,separator:"||",showConsoleColors:!0};a["a"].use(Yt.a,Qt);var Vt=n("3fa7"),Xt=n.n(Vt);n("15f5");a["a"].use(Xt.a,{defaultIconPack:"fas"});var Zt=n("415c"),te=n.n(Zt);a["a"].use(te.a);var ee=n("0a12"),ne=n.n(ee);a["a"].use(ne.a,"https://coffee-casino.herokuapp.com",At);n("77ed");var ae=n("7f53"),se=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("b-field",{attrs:{label:t.label,"custom-class":t.customClass,type:t.type,message:t.errorMessage}},[t._t("default")],2)},re=[],ie={extends:ae["b"],computed:{type:function(){return this.hasErrors?"is-danger":null},customClass:function(){return this.hasErrors?"has-text-danger":null},errorMessage:function(){return this.hasErrors?this.firstErrorMessage:null}}},oe=ie,ue=Object(u["a"])(oe,se,re,!1,null,null,null),le=ue.exports,ce={required:"{attribute} is required",userExists:"User not found",minLength:"{attribute} is too short",maxLength:"{attribute} is too long",unique:"{attribute} is already taken",email:"Email is invalid",passwordMatches:"Password does not match",securePassword:"Password is not strong enough",manualError:"If you're seeing this, supply a local error message"};a["a"].use(ae["a"],{template:le,messages:ce}),a["a"].directive("focus",{inserted:function(t){"INPUT"===t.tagName?t.focus():t.querySelector("input").focus()}});var de=n("09bd"),pe=n.n(de);a["a"].config.productionTip=!1,a["a"].prototype.$appName="Poker Nook",pe.a.shim(),new a["a"]({router:zt,store:At,render:function(t){return t(c)}}).$mount("#app")},"5c0b":function(t,e,n){"use strict";var a=n("106f"),s=n.n(a);s.a}});
//# sourceMappingURL=app.015d05a0.js.map